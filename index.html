
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen-a1ce949a.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-bccf8c07.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-c5541673.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;ruby&quot;,&quot;python&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-1e815a84.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="ruby">ruby</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#users" class="toc-h1 toc-link" data-title="Users">Users</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#the-user-object" class="toc-h2 toc-link" data-title="The user object">The user object</a>
                  </li>
                  <li>
                    <a href="#create-a-user" class="toc-h2 toc-link" data-title="Create a user">Create a user</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-user" class="toc-h2 toc-link" data-title="Retrieve a user">Retrieve a user</a>
                  </li>
                  <li>
                    <a href="#update-a-user" class="toc-h2 toc-link" data-title="Update a user">Update a user</a>
                  </li>
                  <li>
                    <a href="#delete-a-user" class="toc-h2 toc-link" data-title="Delete a user">Delete a user</a>
                  </li>
                  <li>
                    <a href="#list-all-users" class="toc-h2 toc-link" data-title="List all users">List all users</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#valets" class="toc-h1 toc-link" data-title="Valets">Valets</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#the-valet-object" class="toc-h2 toc-link" data-title="The valet object">The valet object</a>
                  </li>
                  <li>
                    <a href="#create-a-valet" class="toc-h2 toc-link" data-title="Create a valet">Create a valet</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-valet" class="toc-h2 toc-link" data-title="Retrieve a valet">Retrieve a valet</a>
                  </li>
                  <li>
                    <a href="#update-a-valet" class="toc-h2 toc-link" data-title="Update a valet">Update a valet</a>
                  </li>
                  <li>
                    <a href="#delete-a-valet" class="toc-h2 toc-link" data-title="Delete a valet">Delete a valet</a>
                  </li>
                  <li>
                    <a href="#list-all-valets" class="toc-h2 toc-link" data-title="List all valets">List all valets</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#bookings" class="toc-h1 toc-link" data-title="Bookings">Bookings</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#the-booking-object" class="toc-h2 toc-link" data-title="The booking object">The booking object</a>
                  </li>
                  <li>
                    <a href="#create-a-booking" class="toc-h2 toc-link" data-title="Create a booking">Create a booking</a>
                  </li>
                  <li>
                    <a href="#retrieve-a-booking" class="toc-h2 toc-link" data-title="Retrieve a booking">Retrieve a booking</a>
                  </li>
                  <li>
                    <a href="#update-a-booking" class="toc-h2 toc-link" data-title="Update a booking">Update a booking</a>
                  </li>
                  <li>
                    <a href="#delete-a-booking" class="toc-h2 toc-link" data-title="Delete a booking">Delete a booking</a>
                  </li>
                  <li>
                    <a href="#list-all-bookings" class="toc-h2 toc-link" data-title="List all bookings">List all bookings</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to AirValet Internal API. This is the main api for both the mobile app and web app.</p>
<h1 id='users'>Users</h1>
<blockquote>
<p>Endpoints:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code>     <span class="nx">GET</span>  <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">users</span>
    <span class="nx">POST</span>  <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">users</span>
     <span class="nx">GET</span>  <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">users</span><span class="o">/</span><span class="p">:</span><span class="nx">id</span>
     <span class="nx">PUT</span>  <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">users</span><span class="o">/</span><span class="p">:</span><span class="nx">id</span>
  <span class="nx">DELETE</span>  <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">users</span><span class="o">/</span><span class="p">:</span><span class="nx">id</span>
</code></pre>
<p>The <code>User</code> object is the base object of the app. All requests will require a userId to compelete</p>
<h2 id='the-user-object'>The user object</h2>
<blockquote>
<p>A sample response for a user object:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5e1d0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"brittanyklepfer@gmail.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brittany"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Klepfer"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"customerId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cus_GXivgijQFAU39g"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:41:59.740Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"__v"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"deviceToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29c49a0fd25ba30f24889b1a5857399b5a5be90d2f042e7d87ff8eda5bea319d"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='attributes'>Attributes</h3>
<table><thead>
<tr>
<th>field</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>_id</code> String</td>
<td>Unique identifier for the user object.</td>
</tr>
<tr>
<td><code>customerId</code> String</td>
<td>Unique identifier for stripe object.</td>
</tr>
<tr>
<td><code>first_name</code> String</td>
<td>user&#39;s first name.</td>
</tr>
<tr>
<td><code>last_name</code> String</td>
<td>user&#39;s last name.</td>
</tr>
<tr>
<td><code>email</code> String</td>
<td>user&#39;s email address.</td>
</tr>
<tr>
<td><code>phone</code> String</td>
<td>user&#39;s phone number.</td>
</tr>
<tr>
<td><code>deviceToken</code> String</td>
<td>unique identifier for the device the user is using.</td>
</tr>
<tr>
<td><code>createdAt</code> Date</td>
<td>time user object was created</td>
</tr>
<tr>
<td><code>updatedAt</code> Date</td>
<td>time user object was last updated</td>
</tr>
</tbody></table>
<h2 id='create-a-user'>Create a user</h2>
<blockquote>
<p><code>POST /v1/users</code></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">userController</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'...controllers/user-controller'</span><span class="p">)</span>

 <span class="nx">app</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">'/api/v1/users/'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">userController</span><span class="p">.</span><span class="nx">createUser</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
        </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5e1d0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"customerId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cus_GXivgijQFAU39g"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brittany"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Klepfer"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"brittanyklepfer@gmail.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6518724630"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:41:59.740Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"__v"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates a new user in the database.</p>
<h3 id='arguments'>Arguments</h3>
<table><thead>
<tr>
<th>field</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>first_name</code> String</td>
<td>user&#39;s first name.</td>
</tr>
<tr>
<td><code>last_name</code> String</td>
<td>user&#39;s last name.</td>
</tr>
<tr>
<td><code>email</code> String</td>
<td>user&#39;s email address.</td>
</tr>
<tr>
<td><code>phone</code> String</td>
<td>user&#39;s phone number.</td>
</tr>
<tr>
<td><code>password</code> String</td>
<td>user&#39;s password.</td>
</tr>
</tbody></table>
<h2 id='retrieve-a-user'>Retrieve a user</h2>
<blockquote>
<p><code>GET /v1/users/:id</code></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">userController</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'...controllers/user-controller'</span><span class="p">)</span>

 <span class="nx">app</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">'/api/v1/users/:id'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">userController</span><span class="p">.</span><span class="nx">fetchUser</span><span class="p">)</span>
<span class="p">})</span>
</code></pre>
<blockquote>
<p>response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
        </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5e1d0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"customerId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cus_GXivgijQFAU39g"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brittany"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Klepfer"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"brittanyklepfer@gmail.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6518724630"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:41:59.740Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"__v"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieves the details of an existing user. You need only supply the unique user identifier that was returned upon user creation.</p>
<h3 id='arguements'>Arguements</h3>
<p><code>no arguments</code></p>
<h3 id='returns'>Returns</h3>
<p>Returns a user object if a valid identifier was provided. When requesting the ID of a user that has been deleted, a subset of the users’s information will be returned, including a deleted property, which will be true.</p>
<h2 id='update-a-user'>Update a user</h2>
<blockquote>
<p><code>PUT /v1/users/:id</code></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">userController</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'...controllers/user-controller'</span><span class="p">)</span>

 <span class="nx">app</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">'/api/v1/users/:id'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="nx">userController</span><span class="p">.</span><span class="nx">updateUser</span><span class="p">)</span>
<span class="p">})</span>
</code></pre>
<blockquote>
<p>response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
        </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5e1d0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"customerId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cus_GXivgijQFAU39g"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brittany"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Klepfer"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"brittanyklepfer@gmail.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6518724630"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:41:59.740Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"__v"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Updates the specified user by setting the values of the parameters passed. Any parameters not provided will be left unchanged</p>
<h3 id='arguements-2'>Arguements</h3>
<p><code>Any argument listed in the object definition</code></p>
<h3 id='returns-2'>Returns</h3>
<p>Returns the user object if the update succeeded. Throws an error if update parameters are invalid (e.g. specifying an invalid coupon or an invalid source).</p>
<h2 id='delete-a-user'>Delete a user</h2>
<blockquote>
<p><code>Delete /v1/users/:id</code></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">userController</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'...controllers/user-controller'</span><span class="p">)</span>

 <span class="nx">app</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">'/api/v1/users/:id'</span><span class="p">)</span>
        <span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">userController</span><span class="p">.</span><span class="nx">deleteUser</span><span class="p">)</span>
<span class="p">})</span>
</code></pre>
<blockquote>
<p>response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cus_GY90URwhYx9Oy5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Permanently deletes a user. It cannot be undone. Also immediately cancels any active bookings on the customer.</p>
<h3 id='arguements-3'>Arguements</h3>
<p><code>none</code></p>
<h3 id='returns-3'>Returns</h3>
<p>Returns an object with a deleted parameter on success. If the user ID does not exist, this call throws an error.
Unlike other objects, deleted users can still be retrieved through the API, in order to be able to track the history of users while still removing their credit card details and preventing any further operations to be performed (such as adding a new bookings).</p>
<h2 id='list-all-users'>List all users</h2>
<blockquote>
<p><code>GET /v1/users/</code></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">userController</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'...controllers/user-controller'</span><span class="p">)</span>

 <span class="nx">app</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">'/api/v1/users'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">userController</span><span class="p">.</span><span class="nx">fetchUsers</span><span class="p">)</span>
<span class="p">})</span>
</code></pre>
<blockquote>
<p>response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"list"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/v1/users"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"has_more"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5e1d0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"customerId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cus_GXivgijQFAU39g"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brittany"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Klepfer"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"brittanyklepfer@gmail.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6518724630"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:41:59.740Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"__v"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Returns a list of your users. The users are returned sorted by creation date, with the most recent user appearing first.</p>
<h3 id='arguements-4'>Arguements</h3>
<p><code>none</code></p>
<h3 id='returns-4'>Returns</h3>
<p>A object with a data property that contains an array of up to limit customers, starting after user starting_after. Passing an optional email will result in filtering to users with only that exact email address. Each entry in the array is a separate user object. If no more customers are available, the resulting array will be empty. This request should never throw an error.</p>
<h1 id='valets'>Valets</h1>
<blockquote>
<p>Endpoints:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code>     <span class="nx">GET</span>  <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">valets</span>
    <span class="nx">POST</span>  <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">valets</span>
     <span class="nx">GET</span>  <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">valets</span><span class="o">/</span><span class="p">:</span><span class="nx">id</span>
     <span class="nx">PUT</span>  <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">valets</span><span class="o">/</span><span class="p">:</span><span class="nx">id</span>
  <span class="nx">DELETE</span>  <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">valets</span><span class="o">/</span><span class="p">:</span><span class="nx">id</span>
</code></pre>
<p>The <code>Valet</code> is used to update bookings and alert users</p>
<h2 id='the-valet-object'>The valet object</h2>
<blockquote>
<p>A sample response for a valet object:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5e1d0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7e1d0e574a8ba27f945a61eF"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:41:59.740Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"__v"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='attributes-2'>Attributes</h3>
<table><thead>
<tr>
<th>field</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>_id</code> String</td>
<td>Unique identifier for the user object.</td>
</tr>
<tr>
<td><code>user</code> String</td>
<td>The user object associated with the Valet object</td>
</tr>
<tr>
<td><code>createdAt</code> Date</td>
<td>Time valet object was created</td>
</tr>
<tr>
<td><code>updatedAt</code> Date</td>
<td>Time valet object was last updated</td>
</tr>
</tbody></table>
<h2 id='create-a-valet'>Create a valet</h2>
<blockquote>
<p><code>POST /v1/valets</code></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">valetController</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'...controllers/valet-controller'</span><span class="p">)</span>

 <span class="nx">app</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">'/api/v1/valet/'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">valetController</span><span class="p">.</span><span class="nx">createValet</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
        </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5e1d0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brittany"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Klepfer"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6518724630"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"deviceToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sdojfd0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:41:59.740Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"__v"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates a new valet in the database.</p>
<h3 id='arguments-2'>Arguments</h3>
<table><thead>
<tr>
<th>field</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>user</code> String</td>
<td>The user object associated with the valet.</td>
</tr>
</tbody></table>
<h2 id='retrieve-a-valet'>Retrieve a valet</h2>
<blockquote>
<p><code>GET /v1/valets/:id</code></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">valetController</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'...controllers/valet-controller'</span><span class="p">)</span>

 <span class="nx">app</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">'/api/v1/valets/:id'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">valetController</span><span class="p">.</span><span class="nx">fetchValet</span><span class="p">)</span>
<span class="p">})</span>
</code></pre>
<blockquote>
<p>response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
        </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5e1d0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brittany"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Klepfer"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6518724630"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"deviceToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sdojfd0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:41:59.740Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"__v"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieves the details of an existing valet. You need only supply the unique valet identifier that was returned upon valet creation.</p>
<h3 id='arguements-5'>Arguements</h3>
<p><code>no arguments</code></p>
<h3 id='returns-5'>Returns</h3>
<p>Returns a valet object if a valid identifier was provided. When requesting the ID of a valet that has been deleted, a subset of the users’s information will be returned, including a deleted property, which will be true.</p>
<h2 id='update-a-valet'>Update a valet</h2>
<blockquote>
<p><code>PUT /v1/valets/:id</code></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">valetController</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'...controllers/valet-controller'</span><span class="p">)</span>

 <span class="nx">app</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">'/api/v1/valets/:id'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="nx">valetController</span><span class="p">.</span><span class="nx">updateValet</span><span class="p">)</span>
<span class="p">})</span>
</code></pre>
<blockquote>
<p>response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
        </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5e1d0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brittany"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Klepfer"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6518724630"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"deviceToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sdojfd0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:41:59.740Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"__v"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Updates the specified valet by setting the values of the parameters passed. Any parameters not provided will be left unchanged</p>
<h3 id='arguements-6'>Arguements</h3>
<p><code>Any argument listed in the object definition</code></p>
<h3 id='returns-6'>Returns</h3>
<p>Returns the valet object if the update succeeded. Throws an error if update parameters are invalid (e.g. specifying an invalid coupon or an invalid source).</p>
<h2 id='delete-a-valet'>Delete a valet</h2>
<blockquote>
<p><code>Delete /v1/valets/:id</code></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">valetController</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'...controllers/user-controller'</span><span class="p">)</span>

 <span class="nx">app</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">'/api/v1/users/:id'</span><span class="p">)</span>
        <span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">valetController</span><span class="p">.</span><span class="nx">deleteValet</span><span class="p">)</span>
<span class="p">})</span>
</code></pre>
<blockquote>
<p>response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cus_GY90URwhYx9Oy5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"valet"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Permanently deletes a valet. It cannot be undone. Also immediately cancels any active bookings on the valet.</p>
<h3 id='arguements-7'>Arguements</h3>
<p><code>none</code></p>
<h3 id='returns-7'>Returns</h3>
<p>Returns an object with a deleted parameter on success. If the valet ID does not exist, this call throws an error.
Unlike other objects, deleted valets can still be retrieved through the API, in order to be able to track the history of valet while still removing their credit card details and preventing any further operations to be performed (such as adding a new bookings).</p>
<h2 id='list-all-valets'>List all valets</h2>
<blockquote>
<p><code>GET /v1/valets/</code></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">valetController</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'...controllers/valet-controller'</span><span class="p">)</span>

 <span class="nx">app</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">'/api/v1/valets'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">valetController</span><span class="p">.</span><span class="nx">fetchValets</span><span class="p">)</span>
<span class="p">})</span>
</code></pre>
<blockquote>
<p>response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"list"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/v1/valets"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"has_more"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
        </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5e1d0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brittany"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Klepfer"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6518724630"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"deviceToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sdojfd0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:41:59.740Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"__v"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Returns a list of your valets. The valets are returned sorted by creation date, with the most recent user appearing first.</p>
<h3 id='arguements-8'>Arguements</h3>
<p><code>none</code></p>
<h3 id='returns-8'>Returns</h3>
<p>A object with a data property that contains an array of up to limit valats, starting after valet starting_after. Passing an optional email will result in filtering to users with only that exact email address. Each entry in the array is a separate valet object. If no more customers are available, the resulting array will be empty. This request should never throw an error.</p>
<h1 id='bookings'>Bookings</h1>
<blockquote>
<p>Endpoints:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code>     <span class="nx">GET</span>  <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">bookings</span>
    <span class="nx">POST</span>  <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">bookings</span>
     <span class="nx">GET</span>  <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">bookings</span><span class="o">/</span><span class="p">:</span><span class="nx">id</span>
     <span class="nx">PUT</span>  <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">bookings</span><span class="o">/</span><span class="p">:</span><span class="nx">id</span>
  <span class="nx">DELETE</span>  <span class="o">/</span><span class="nx">v1</span><span class="o">/</span><span class="nx">bookings</span><span class="o">/</span><span class="p">:</span><span class="nx">id</span>
</code></pre>
<p>The <code>Booking</code> is the object that both users and valets will interact with</p>
<h2 id='the-booking-object'>The booking object</h2>
<blockquote>
<p>A sample response for a booking object:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5e1d0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7e1d0e574a8ba27f945a61eF"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7e1d0e574a8ba27f945a61eF"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"airport"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MSP"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"flight"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DL5899"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"car"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"make"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Toyota"</span><span class="p">,</span><span class="w"> </span><span class="s2">"model"</span><span class="p">:</span><span class="s2">"Camry"</span><span class="p">,</span><span class="w"> </span><span class="s2">"plate"</span><span class="p">:</span><span class="s2">"txp120"</span><span class="p">,</span><span class="w"> </span><span class="s2">"color"</span><span class="p">:</span><span class="s2">"black"</span><span class="p">},</span><span class="w">
        </span><span class="s2">"dropOffAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pickUpAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"droppedOffAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pickedUpAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.00</span><span class="p">,</span><span class="w">
        </span><span class="s2">"__v"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='attributes-3'>Attributes</h3>
<table><thead>
<tr>
<th>field</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>_id</code> String</td>
<td>Unique identifier for the booking object.</td>
</tr>
<tr>
<td><code>user</code> String</td>
<td>The user object that creates the booking</td>
</tr>
<tr>
<td><code>valet</code> String</td>
<td>The valet object that is assigned to the booking</td>
</tr>
<tr>
<td><code>status</code> Int</td>
<td>The status of the booking (pending, confirmed, cancelled)</td>
</tr>
<tr>
<td><code>airport</code> String</td>
<td>The departure airport</td>
</tr>
<tr>
<td><code>flight</code> String</td>
<td>The airline departure flight number</td>
</tr>
<tr>
<td><code>car</code> {String: String}</td>
<td>The car the user listed under booking</td>
</tr>
<tr>
<td><code>dropOffAt</code> Date</td>
<td>The time the user expects to dropp off the vehicle with the valet</td>
</tr>
<tr>
<td><code>pickupAt</code> Date</td>
<td>The time the user expects to pick up his/her car from the valet</td>
</tr>
<tr>
<td><code>droppedOffAt</code> Date</td>
<td>The actual time the user drops off vehicle with valet</td>
</tr>
<tr>
<td><code>pickedUpAt</code> Date</td>
<td>The actuall time the user picked up his/her vehicle from the valet</td>
</tr>
<tr>
<td><code>total</code> Int</td>
<td>The total cost of the booking</td>
</tr>
</tbody></table>
<h2 id='create-a-booking'>Create a booking</h2>
<blockquote>
<p><code>POST /v1/bookings</code></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">bookingController</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'...controllers/booking-controller'</span><span class="p">)</span>

 <span class="nx">app</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">'/api/v1/bookings/'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">bookingController</span><span class="p">.</span><span class="nx">createBooking</span><span class="p">)</span>
</code></pre>
<blockquote>
<p>response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
        </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5e1d0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brittany"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Klepfer"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6518724630"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"deviceToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sdojfd0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"airport"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MSP"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"flight"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DL5899"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"car"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"make"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Toyota"</span><span class="p">,</span><span class="w"> </span><span class="s2">"model"</span><span class="p">:</span><span class="s2">"Camry"</span><span class="p">,</span><span class="w"> </span><span class="s2">"plate"</span><span class="p">:</span><span class="s2">"txp120"</span><span class="p">,</span><span class="w"> </span><span class="s2">"color"</span><span class="p">:</span><span class="s2">"black"</span><span class="p">},</span><span class="w">
        </span><span class="s2">"dropOffAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pickUpAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"droppedOffAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pickedUpAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.00</span><span class="p">,</span><span class="w">
        </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:41:59.740Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"__v"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates a new booking in the database.</p>
<h3 id='arguments-3'>Arguments</h3>
<table><thead>
<tr>
<th>field</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>user</code> String</td>
<td>The user object that created the booking.</td>
</tr>
<tr>
<td><code>airport</code> String</td>
<td>The departure airport</td>
</tr>
<tr>
<td><code>flight</code> String</td>
<td>The departure flight number</td>
</tr>
<tr>
<td><code>car</code> {String: String}</td>
<td>The vehicle under the booking</td>
</tr>
<tr>
<td><code>dropOffAt</code> String</td>
<td>The anicipated drop off time</td>
</tr>
<tr>
<td><code>pickUpAt</code> String</td>
<td>The anicipated pickup time</td>
</tr>
<tr>
<td><code>total</code> Int</td>
<td>The total charge for the service</td>
</tr>
</tbody></table>
<h2 id='retrieve-a-booking'>Retrieve a booking</h2>
<blockquote>
<p><code>GET /v1/bookings/:id</code></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">bookingController</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'...controllers/booking-controller'</span><span class="p">)</span>

 <span class="nx">app</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">'/api/v1/bookings/:id'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">bookingController</span><span class="p">.</span><span class="nx">fetchBooking</span><span class="p">)</span>
<span class="p">})</span>
</code></pre>
<blockquote>
<p>response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
        </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5e1d0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brittany"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Klepfer"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6518724630"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"deviceToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sdojfd0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"airport"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MSP"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"flight"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DL5899"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"car"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"make"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Toyota"</span><span class="p">,</span><span class="w"> </span><span class="s2">"model"</span><span class="p">:</span><span class="s2">"Camry"</span><span class="p">,</span><span class="w"> </span><span class="s2">"plate"</span><span class="p">:</span><span class="s2">"txp120"</span><span class="p">,</span><span class="w"> </span><span class="s2">"color"</span><span class="p">:</span><span class="s2">"black"</span><span class="p">},</span><span class="w">
        </span><span class="s2">"dropOffAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pickUpAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"droppedOffAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pickedUpAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.00</span><span class="p">,</span><span class="w">
        </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:41:59.740Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"__v"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieves the details of an existing booking. You need only supply the unique booking identifier that was returned upon valet creation.</p>
<h3 id='arguements-9'>Arguements</h3>
<p><code>no arguments</code></p>
<h3 id='returns-9'>Returns</h3>
<p>Returns a booking object if a valid identifier was provided. When requesting the ID of a valet that has been deleted, a subset of the booking information will be returned, including a deleted property, which will be true.</p>
<h2 id='update-a-booking'>Update a booking</h2>
<blockquote>
<p><code>PUT /v1/bookings/:id</code></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">bookingController</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'...controllers/booking-controller'</span><span class="p">)</span>

 <span class="nx">app</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">'/api/v1/valets/:id'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="nx">bookingController</span><span class="p">.</span><span class="nx">updateBooking</span><span class="p">)</span>
<span class="p">})</span>
</code></pre>
<blockquote>
<p>response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
        </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5e1d0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brittany"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Klepfer"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6518724630"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"deviceToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sdojfd0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"airport"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MSP"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"flight"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DL5899"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"car"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"make"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Toyota"</span><span class="p">,</span><span class="w"> </span><span class="s2">"model"</span><span class="p">:</span><span class="s2">"Camry"</span><span class="p">,</span><span class="w"> </span><span class="s2">"plate"</span><span class="p">:</span><span class="s2">"txp120"</span><span class="p">,</span><span class="w"> </span><span class="s2">"color"</span><span class="p">:</span><span class="s2">"black"</span><span class="p">},</span><span class="w">
        </span><span class="s2">"dropOffAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pickUpAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"droppedOffAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pickedUpAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.00</span><span class="p">,</span><span class="w">
        </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:41:59.740Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"__v"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Updates the specified booking by setting the values of the parameters passed. Any parameters not provided will be left unchanged</p>
<h3 id='arguements-10'>Arguements</h3>
<p><code>Any argument listed in the object definition with an action argument</code> </p>

<table><thead>
<tr>
<th>field</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>claim</code></td>
<td>A valet claims a booking.</td>
</tr>
<tr>
<td><code>cancel</code></td>
<td>The user cancels a booking.</td>
</tr>
<tr>
<td><code>dropOff</code></td>
<td>The user exchanges key to valet, valet drives off and parks the car</td>
</tr>
<tr>
<td><code>pickup</code> String</td>
<td>The user grabs car from valet and drives off</td>
</tr>
</tbody></table>
<h3 id='returns-10'>Returns</h3>
<p>Returns the booking object if the update succeeded. Throws an error if update parameters are invalid (e.g. specifying an invalid coupon or an invalid source).</p>
<h2 id='delete-a-booking'>Delete a booking</h2>
<blockquote>
<p><code>Delete /v1/bookings/:id</code></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">bookingController</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'...controllers/booking-controller'</span><span class="p">)</span>

 <span class="nx">app</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">'/api/v1/bookings/:id'</span><span class="p">)</span>
        <span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">bookingController</span><span class="p">.</span><span class="nx">deleteBooking</span><span class="p">)</span>
<span class="p">})</span>
</code></pre>
<blockquote>
<p>response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cus_GY90URwhYx9Oy5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"booking"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Permanently deletes a booking. It cannot be undone. Also immediately cancels any active bookings on the booking.</p>
<h3 id='arguements-11'>Arguements</h3>
<p><code>none</code></p>
<h3 id='returns-11'>Returns</h3>
<p>Returns an object with a deleted parameter on success. If the valet ID does not exist, this call throws an error.
Unlike other objects, deleted valets can still be retrieved through the API, in order to be able to track the history of valet while still removing their credit card details and preventing any further operations to be performed (such as adding a new bookings).</p>
<h2 id='list-all-bookings'>List all bookings</h2>
<blockquote>
<p><code>GET /v1/bookings/</code></p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">BookingController</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'...controllers/booking-controller'</span><span class="p">)</span>

 <span class="nx">app</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s1">'/api/v1/bookings'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">bookingController</span><span class="p">.</span><span class="nx">fetchBookings</span><span class="p">)</span>
<span class="p">})</span>
</code></pre>
<blockquote>
<p>response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"list"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/v1/bookings"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"has_more"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
        </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5e1d0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brittany"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Klepfer"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6518724630"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"deviceToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sdojfd0e574a8ba27f945a61e0"</span><span class="p">,</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"airport"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MSP"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"flight"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DL5899"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"car"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"make"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Toyota"</span><span class="p">,</span><span class="w"> </span><span class="s2">"model"</span><span class="p">:</span><span class="s2">"Camry"</span><span class="p">,</span><span class="w"> </span><span class="s2">"plate"</span><span class="p">:</span><span class="s2">"txp120"</span><span class="p">,</span><span class="w"> </span><span class="s2">"color"</span><span class="p">:</span><span class="s2">"black"</span><span class="p">},</span><span class="w">
        </span><span class="s2">"dropOffAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pickUpAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"droppedOffAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pickedUpAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.00</span><span class="p">,</span><span class="w">
        </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:41:59.740Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-14T00:42:16.240Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"__v"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Returns a list of your bookings. The valets are returned sorted by creation date, with the most recent user appearing first.</p>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>field</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>userId</code> String</td>
<td>Filter bookings by userId</td>
</tr>
<tr>
<td><code>valetId</code> String</td>
<td>Filter bookings by valetId</td>
</tr>
<tr>
<td><code>date</code> Date</td>
<td>Filter bookings by date</td>
</tr>
<tr>
<td><code>status</code> String</td>
<td>Filter bookings by status</td>
</tr>
</tbody></table>
<h3 id='returns-12'>Returns</h3>
<p>A object with a data property that contains an array of up to limit bookings, starting after booking starting_after. Passing an optional email will result in filtering to users with only that exact email address. Each entry in the array is a separate valet object. If no more customers are available, the resulting array will be empty. This request should never throw an error.</p>
<h1 id='errors'>Errors</h1>
<aside class="notice">
This error section is stored in a separate file in <code>includes/_errors.md</code>. Slate allows you to optionally separate out your docs into many files...just save them to the <code>includes</code> folder and add them to the top of your <code>index.md</code>'s frontmatter. Files are included in the order listed.
</aside>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The kitten requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified kitten could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a kitten with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The kitten requested has been removed from our servers.</td>
</tr>
<tr>
<td>418</td>
<td>I&#39;m a teapot.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="ruby">ruby</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
